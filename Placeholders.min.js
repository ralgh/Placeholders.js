var Placeholders=function(){"use strict";function e(a){var b;a.createTextRange?(b=a.createTextRange(),b.move("character",0),b.select()):a.selectionStart&&(a.focus(),a.setSelectionRange(0,0))}function f(){var a;this.value===this.getAttribute("placeholder")&&(b.hideOnFocus?(this.className=this.className.replace(classNameRegExp,""),this.value="",a=this.getAttribute("data-placeholdertype"),a&&(this.type=a)):e(this))}function g(){var a;this.value===""&&(this.className=this.className+" "+b.className,this.value=this.getAttribute("placeholder"),a=this.getAttribute("data-placeholdertype"),a&&(this.type="text"))}function h(){var e,f,g,a=this.getElementsByTagName("input"),b=this.getElementsByTagName("textarea"),c=a.length,d=c+b.length;for(g=0;d>g;g+=1)e=c>g?a[g]:b[g-c],f=e.getAttribute("placeholder"),e.value===f&&(e.value="")}function i(a){valueKeyDown=this.value;var b=this.getAttribute("data-originalMaxFieldlength"),e=b||this.getAttribute("maxlength")||maxFieldLength;if(this.setAttribute("maxlength",maxFieldLength),maxFieldLength>e&&this.setAttribute("data-originalMaxFieldlength",e),valueKeyDown===this.getAttribute("placeholder")&&c.indexOf(a.keyCode)>-1)return a.preventDefault?a.preventDefault():a.returnValue=!1,!1;var b=this.getAttribute("data-originalMaxFieldlength");return valueKeyDown.length==b&&0>c.indexOf(a.keyCode)&&0>d.indexOf(a.keyCode)?(this.value=valueKeyDown.substr(0,b),a.preventDefault?a.preventDefault():a.returnValue=!1,!1):!0}function j(){var b;this.value!==valueKeyDown&&(this.className=this.className.replace(classNameRegExp,""),this.value=this.value.replace(this.getAttribute("placeholder"),""),b=this.getAttribute("data-placeholdertype"),b&&(this.type=b)),this.value===""&&(g.call(this),e(this))}function k(a,b,c){return a.addEventListener?a.addEventListener(b,c.bind(a),!1):a.attachEvent?a.attachEvent("on"+b,c.bind(a)):void 0}function l(a){b.hideOnFocus||(k(a,"keydown",i),k(a,"keyup",j)),k(a,"focus",f),k(a,"blur",g)}function m(){var g,i,j,m,n,c=document.getElementsByTagName("input"),d=document.getElementsByTagName("textarea"),e=c.length,f=e+d.length;for(g=0;f>g;g+=1)j=e>g?c[g]:d[g-e],n=j.getAttribute("placeholder"),a.indexOf(j.type)>-1&&n&&(m=j.getAttribute("data-currentplaceholder"),n!==m&&(j.value!==m&&j.value!==n&&j.value||(j.value=n,j.className=j.className+" "+b.className),m||(j.form&&(i=j.form,i.getAttribute("data-placeholdersubmit")||(k(i,"submit",h),i.setAttribute("data-placeholdersubmit","true"))),l(j)),j.setAttribute("data-currentplaceholder",n)))}function n(){var g,i,j,m,c=document.getElementsByTagName("input"),d=document.getElementsByTagName("textarea"),e=c.length,f=e+d.length;for(g=0;f>g;g+=1)if(i=e>g?c[g]:d[g-e],m=i.getAttribute("placeholder"),a.indexOf(i.type)>-1&&m){if(i.type==="password")try{i.type="text",i.setAttribute("data-placeholdertype","password")}catch(n){}i.setAttribute("data-currentplaceholder",m),(i.value===""||i.value===m)&&(i.className=i.className+" "+b.className,i.value=m),i.form&&(j=i.form,j.getAttribute("data-placeholdersubmit")||(k(j,"submit",h),j.setAttribute("data-placeholdersubmit","true"))),l(i)}}function o(a){var d,e,f,g,h,c=document.createElement("input");if(c.placeholder===void 0){for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);e=document.createElement("style"),e.type="text/css";var i=b.styleImportant?"!important":"";return f=document.createTextNode("."+b.className+" { color:"+b.textColor+i+"; }"),e.styleSheet?e.styleSheet.cssText=f.nodeValue:e.appendChild(f),document.getElementsByTagName("head")[0].appendChild(e),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(g=b||0,h=this.length;h>g;g+=1)if(this[g]===a)return g;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),n(),b.live&&(interval=setInterval(m,100)),!0}return!1}var a=["text","search","url","tel","email","password","number","textarea"],b={live:!1,hideOnFocus:!1,className:"placeholderspolyfill",textColor:"#999",styleImportant:!0},c=[37,38,39,40,46],d=[8,9];return maxFieldLength=2147483647,classNameRegExp=RegExp("\\b"+b.className+"\\b"),{init:o,refresh:m}}()